"use client"

import { useState } from "react"
import Link from "next/link"
import { LanguageSwitcher } from "./language-switcher"
import { useLanguage } from "@/lib/language-context"
import { getTranslation } from "@/lib/translations"
import { ThemeToggle } from "./ui/theme-toggle"

export function Navigation() {
  const [isOpen, setIsOpen] = useState(false)
  const { language } = useLanguage()
  const t = (key: string) => getTranslation(language, key as any)

  return (
    <>
      <nav className="absolute top-0 w-full backdrop-blur lg:z-50 z-10 bg-[#F5E3BF]/70 py-[10px] lg:px-12 z-61">
        <div className="max-w-[1300px] mx-auto px-4">
          <div className="flex justify-between items-center h-16">
            {/* Logo */}
            <Link href="/" className="logo text-2xl font-serif font-bold text-accent lg:min-w-[200px]">
              <svg width="123" height="73" viewBox="0 0 123 73" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clipPath="url(#clip0_124_1270)">
                  <path d="M25.8808 5.51L25.6108 5.65C23.5808 3.34 20.7408 0.36 15.7208 0.36H14.7308V28.63C14.7308 30.21 15.0908 30.89 15.7708 31.3V31.62H10.1708V31.3C10.8508 30.89 11.2108 30.22 11.2108 28.63V0.36H10.2208C5.20078 0.36 2.35078 3.34 0.320781 5.65L0.0507812 5.51L1.49078 0H24.4308L25.8808 5.51Z" fill="#66282C" />
                  <path d="M51.2201 31.62H44.2601V31.3C45.4301 30.13 45.0701 28.55 43.8101 25.25L41.6001 19.51H30.4001L29.1801 22.94C27.7301 27.05 27.5101 29.26 29.4101 31.3V31.62H24.0801V31.3C26.0201 29.27 27.3301 27.19 28.8201 22.94L35.5901 3.88L34.1001 0H37.6701L46.4801 22.94C48.3301 27.46 49.5101 29.26 51.2201 31.3V31.62ZM41.4701 19.15L35.7801 4.38L30.5401 19.15H41.4701Z" fill="#66282C" />
                  <path d="M77.6007 31.3V31.62H70.6407V31.3C71.8107 30.13 70.8707 28.5 69.1007 25.38L64.2707 16.93C63.5907 16.98 62.9107 17.02 62.2407 17.02H58.0407V28.63C58.0407 30.21 58.3607 30.89 59.0307 31.3V31.62H53.4707V31.3C54.1507 30.89 54.4607 30.22 54.4607 28.63V3.03C54.4607 1.4 54.1407 0.77 53.4707 0.37V0.0100002H62.2307C69.2307 0.0100002 75.5507 2.63 75.5507 8.55C75.5507 12.8 72.1607 15.37 67.6507 16.41L71.7207 23.55C74.3907 28.2 75.8307 29.74 77.5907 31.32L77.6007 31.3ZM72.0007 8.54C72.0007 5.02 70.8307 0.37 62.2407 0.37H58.0407V16.67H62.2407C70.7807 16.67 72.0007 12.02 72.0007 8.54Z" fill="#66282C" />
                  <path d="M84.4213 3.03V28.64C84.4213 30.22 84.7413 30.9 85.4613 31.31V31.63H79.8613V31.31C80.5413 30.9 80.8513 30.23 80.8513 28.64V3.03C80.8513 1.45 80.5313 0.77 79.8613 0.37V0.0100002H85.4613V0.37C84.7413 0.78 84.4213 1.45 84.4213 3.03Z" fill="#66282C" />
                  <path d="M121.59 3.03V28.64C121.59 30.22 121.91 30.9 122.63 31.31V31.63H117.03V31.31C117.71 30.9 118.07 30.23 118.07 28.64V1.35L105.61 22.94H105.2L92.2801 3.25V26.19C92.2801 28.13 93.6301 30.53 95.1301 31.29V31.61H89.0801V31.29C90.5701 30.52 91.9301 28.13 91.9301 26.19V2.8L89.9001 0H93.9701L106.93 20.01L118.43 0H122.63V0.36C121.91 0.77 121.59 1.4 121.59 3.02V3.03Z" fill="#66282C" />
                  <path d="M0 39.78H1.51V44.26C1.51 45.23 2.19 45.8 3.16 45.8C4.13 45.8 4.81 45.23 4.81 44.26V39.78H6.33V44.4C6.33 46.16 5 47.18 3.16 47.18C1.32 47.18 0 46.16 0 44.4V39.78Z" fill="#66282C" />
                  <path d="M11.5002 44.3V47.07H10.0002V44.3L7.24023 39.78H8.96023L10.7502 42.83L12.5402 39.78H14.2502L11.5002 44.3Z" fill="#66282C" />
                  <path d="M18.4305 43.15H22.3005V47.08H21.1905L21.0905 46.13C20.5105 46.75 19.6905 47.19 18.6005 47.19C16.4005 47.19 14.8105 45.61 14.8105 43.42C14.8105 41.23 16.4305 39.68 18.5905 39.68C20.4305 39.68 21.9505 40.67 22.2605 42.34H20.6405C20.3605 41.56 19.5605 41.11 18.6705 41.11C17.3905 41.11 16.3905 42.02 16.3905 43.43C16.3905 44.84 17.2905 45.77 18.6905 45.77C19.6105 45.77 20.5605 45.29 20.8105 44.32H18.4105V43.15H18.4305Z" fill="#66282C" />
                  <path d="M30.5502 47.07H29.0102V44H25.5302V47.07H23.9902V39.78H25.5302V42.71H29.0102V39.78H30.5502V47.07Z" fill="#66282C" />
                  <path d="M32.3203 39.78H33.8303V44.26C33.8303 45.23 34.5103 45.8 35.4803 45.8C36.4503 45.8 37.1303 45.23 37.1303 44.26V39.78H38.6503V44.4C38.6503 46.16 37.3203 47.18 35.4803 47.18C33.6403 47.18 32.3203 46.16 32.3203 44.4V39.78Z" fill="#66282C" />
                  <path d="M40.4006 47.07V39.78H43.8806C45.3406 39.78 46.4406 40.8 46.4406 42.21C46.4406 43.25 45.8306 44.08 44.9306 44.44L46.4806 47.07H44.7306L43.3206 44.64H41.9306V47.07H40.3906H40.4006ZM41.9406 43.34H43.6706C44.3706 43.34 44.8706 42.86 44.8706 42.21C44.8706 41.53 44.3206 41.1 43.6706 41.1H41.9406V43.34Z" fill="#66282C" />
                  <path d="M50.3791 47.07V39.78H53.8591C55.3191 39.78 56.4191 40.8 56.4191 42.21C56.4191 43.25 55.8091 44.08 54.9091 44.44L56.4591 47.07H54.7091L53.2991 44.64H51.9091V47.07H50.3691H50.3791ZM51.9191 43.34H53.6491C54.3491 43.34 54.8491 42.86 54.8491 42.21C54.8491 41.53 54.2991 41.1 53.6491 41.1H51.9191V43.34Z" fill="#66282C" />
                  <path d="M59.3894 43.98V45.75H63.0094V47.07H57.8594V39.78H62.9194V41.1H59.3894V42.71H62.5494V43.99H59.3894V43.98Z" fill="#66282C" />
                  <path d="M65.5592 44.81C65.6192 45.49 66.1892 45.87 66.8892 45.87C67.5392 45.87 68.1192 45.56 68.1192 44.97C68.1192 44.27 67.1992 44.1 66.5492 43.95C65.4092 43.68 64.0492 43.35 64.0492 41.81C64.0492 40.48 65.0892 39.69 66.7892 39.69C68.4892 39.69 69.4292 40.56 69.4892 41.9H67.8792C67.8492 41.32 67.3392 40.99 66.7392 40.99C66.1392 40.99 65.6192 41.24 65.6192 41.78C65.6192 42.43 66.5392 42.58 67.1592 42.74C68.3292 43.01 69.7092 43.38 69.7092 44.94C69.7092 46.39 68.5192 47.21 66.8492 47.21C65.1792 47.21 63.9992 46.26 63.9492 44.83H65.5692L65.5592 44.81Z" fill="#66282C" />
                  <path d="M70.3303 41.12V39.78H76.4203V41.12H74.1203V47.07H72.5903V41.12H70.3203H70.3303Z" fill="#66282C" />
                  <path d="M78.9107 45.63L78.3607 47.07H76.7207L79.6707 39.78H81.4307L84.3807 47.07H82.7407L82.1807 45.63H78.9107ZM81.7207 44.41L80.5507 41.36L79.3807 44.41H81.7107H81.7207Z" fill="#66282C" />
                  <path d="M85.2891 39.78H86.7991V44.26C86.7991 45.23 87.4791 45.8 88.4491 45.8C89.4191 45.8 90.0991 45.23 90.0991 44.26V39.78H91.6191V44.4C91.6191 46.16 90.2891 47.18 88.4491 47.18C86.6091 47.18 85.2891 46.16 85.2891 44.4V39.78Z" fill="#66282C" />
                  <path d="M93.3694 47.07V39.78H96.8494C98.3094 39.78 99.4094 40.8 99.4094 42.21C99.4094 43.25 98.7994 44.08 97.8994 44.44L99.4494 47.07H97.6994L96.2894 44.64H94.8994V47.07H93.3594H93.3694ZM94.9094 43.34H96.6394C97.3394 43.34 97.8394 42.86 97.8394 42.21C97.8394 41.53 97.2894 41.1 96.6394 41.1H94.9094V43.34Z" fill="#66282C" />
                  <path d="M102.19 45.63L101.64 47.07H100L102.95 39.78H104.71L107.66 47.07H106.02L105.46 45.63H102.19ZM105 44.41L103.83 41.36L102.66 44.41H104.99H105Z" fill="#66282C" />
                  <path d="M108.65 47.07V39.78H110.03L113.95 44.68V39.78H115.46V47.07H114.12L110.17 42.22V47.07H108.66H108.65Z" fill="#66282C" />
                  <path d="M116.59 41.12V39.78H122.68V41.12H120.38V47.07H118.85V41.12H116.58H116.59Z" fill="#66282C" />
                  <path d="M57.1194 68.86C57.5294 68.03 58.5494 67.31 59.3994 67.58C60.1094 67.81 60.2994 68.66 59.8294 68.92C59.5394 69.09 59.5394 68.84 59.4894 68.63C59.3294 68.47 59.2194 68.25 58.8194 68.33C57.6594 68.59 57.3594 70.22 58.2894 70.79C59.9694 71.89 62.2294 70.77 63.2594 69.48C63.9294 68.64 64.0494 67.85 64.2094 67.21C62.3294 66.67 60.5694 65.87 58.8494 64.96C56.6994 66.1 52.8094 68.04 50.4894 67.17C48.2694 66.33 47.0894 63.45 49.8794 60.36C44.4194 58.54 41.0594 61.43 41.1694 63.93C41.1994 65.72 43.2394 67.39 44.9194 66.46C46.4594 65.58 46.3394 63.67 45.6694 63.43C45.3394 63.31 45.0094 63.64 44.6694 63.51C44.3394 63.34 44.1294 62.85 44.4194 62.55C44.7794 62.15 45.3594 62.12 45.8194 62.39C46.6294 62.93 46.6394 64.31 46.2894 65.25C45.1494 67.89 41.5994 67.52 40.9094 64.82C40.2794 62.08 43.2194 59.08 47.1994 59.18C48.5494 59.21 49.7094 59.54 50.5394 59.74C53.2294 57.67 56.4494 57.11 60.0494 58.74C60.6494 59.01 63.7394 52.99 69.3194 53.11C71.8094 53.16 72.4594 54.8 72.6094 54.78C79.5194 53.87 82.2394 57.35 81.7794 59.97C81.4994 61.55 80.1994 62.15 79.8594 61.79C79.8994 61.41 79.9794 61.06 80.1194 60.71C81.0294 58.53 78.8494 55.73 73.0894 55.99C72.9894 55.99 73.0694 55.99 73.0694 56.49C73.0794 58 71.4994 58.64 70.7794 58.42C70.3294 58.28 71.3994 58.41 71.8294 57.24C71.9594 56.87 71.9594 56.5 71.8694 56.12C68.4794 56.12 62.7994 59.95 62.5294 60.34C64.0294 61.63 63.4894 61.77 63.9394 61.52C74.5194 55.69 80.5594 61.6 76.4194 65.4C73.6094 68 69.1594 68.26 65.3494 67.52C65.0894 68.72 64.8094 69.72 63.7994 70.69C60.5894 73.79 55.5394 72 57.0894 68.87L57.1194 68.86ZM65.4194 65.8C66.4494 66.09 68.3794 66.1 69.5894 66.02C74.0294 65.84 77.4094 63.3 75.3594 61.34C72.8794 58.97 66.8394 60.32 64.0794 62.08C64.8294 63.25 65.2794 64.4 65.4194 65.8ZM50.2094 60.47C46.9794 63.61 48.8494 67.42 52.3394 66.99C54.3094 66.75 56.6194 65.68 58.3394 64.74C58.3994 64.71 58.5094 64.79 56.9494 63.9C53.9194 65.23 53.8794 65.28 51.6994 65.26C51.6794 65.26 51.6594 65.25 51.6394 65.24C51.6394 64.99 52.6394 65.26 53.9194 64.81C54.8394 64.49 56.3994 63.72 56.4894 63.63C56.2594 63.49 56.0294 63.36 55.8094 63.23C54.1694 64.18 52.9094 64.12 53.0094 63.9C53.8294 63.8 54.1694 63.79 55.4494 63.05C55.6094 62.96 51.3894 60.75 50.2094 60.47ZM71.3294 55.01C70.8894 54.38 69.7494 54.03 68.9694 54.01C65.3594 53.89 63.0894 56.3 60.6294 59.01C61.0894 59.3 61.5494 59.59 62.0194 59.88C66.4294 56.45 68.5394 55.71 71.3294 55.01ZM56.4794 62.35C57.8494 61.41 59.6294 59.34 59.6394 59.34C56.4694 57.6 53.0894 58.22 50.9294 59.87C52.8694 60.51 54.6794 61.43 56.4894 62.35H56.4794ZM59.7494 63.97C60.7994 63.35 61.8394 62.74 62.8794 62.13C62.7394 61.85 62.0594 61.06 61.8094 60.87C58.6794 63.15 58.2094 63.13 58.2194 63.25C58.7294 63.49 59.2294 63.73 59.7494 63.97ZM64.2194 65.55C64.0894 64.47 63.7294 63.49 63.1794 62.56C62.2194 63.1 61.2594 63.64 60.2794 64.19C61.5694 64.74 62.8594 65.21 64.2194 65.55ZM57.6794 62.97C58.9594 62.21 60.1594 61.35 61.3194 60.43C60.9194 60.1 60.5094 59.82 60.0494 59.57C59.8694 59.79 58.6794 61 58.4894 61.19C57.5194 62.16 56.9994 62.44 56.8694 62.56C57.1394 62.7 57.4094 62.84 57.6794 62.98V62.97Z" fill="#66282C" />
                </g>
                <defs>
                  <clipPath id="clip0_124_1270">
                    <rect width="122.68" height="72.29" fill="white" />
                  </clipPath>
                </defs>
              </svg>

            </Link>

            {/* Desktop Menu */}
            <div className="hidden md:flex gap-5 items-center tracking-wider">
              <Link href="/" className="text-primary font-semibold hover:underline transition">
                {t("home")}
              </Link>
              <Link href="/restaurant-menu" className="text-primary font-semibold hover:underline transition">
                {t("menu")}
              </Link>
              <Link href="#gallery" className="text-primary font-semibold hover:underline transition">
                {t("gallery")}
              </Link>
            </div>
            <div className="flex items-center gap-2 justify-end md:min-w-[200px]">
              <a
                href="/contact-us"
                className="btn btn-primary hover:opacity-90 transition"
              >
                {t("contact")}
              </a>

              <LanguageSwitcher />

              {/* Mobile Menu Button */}
              <button className="md:hidden text-gray-700" onClick={() => setIsOpen(!isOpen)}>
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              </button>
            </div>
          </div>

        </div>
      </nav>
      {/* Mobile Dropdown */}

      <ThemeToggle />

      {/* Dropdown Menu */}
      <div
        className={`bg-primary text-white absolute right-0 mt-2 w-40 py-3 bg-white rounded-0 shadow-lg overflow-hidden transition transition-ease duration-300 top-[70px] w-full z-60 top-0
        ${isOpen ? "translate-y-[0%] max-h-96" : "-translate-y-[200%] pointer-events-none"}`}
      >
        <Link
          href="/"
          className="block px-4 py-3  hover:underline transition"
          onClick={() => setIsOpen(false)}
        >
          {t("home")}
        </Link>
        <Link
          href="/restaurant-menu"
          className="block px-4 py-3  hover:underline transition"
          onClick={() => setIsOpen(false)}
        >
          {t("menu")}
        </Link>
        <Link
          href="#gallery"
          className="block px-4 py-3  hover:underline transition"
          onClick={() => setIsOpen(false)}
        >
          {t("gallery")}
        </Link>
      </div>
      {isOpen && <div className="bg-black/60 w-full h-full inset-0 fixed z-50"></div>}
    </>
  )
}
