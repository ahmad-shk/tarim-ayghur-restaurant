"use client"

import type React from "react"
import { useState } from "react"
import { useLanguage } from "@/lib/language-context"
import { getTranslation } from "@/lib/translations"
import DatePicker from "react-datepicker";

import "react-datepicker/dist/react-datepicker.css";

export function Reservation() {
  const [formData, setFormData] = useState({
    name: "",
    phone: "",
    guests: "2",
    date: "",
  })

  const { language } = useLanguage()
  const t = (key: string) => getTranslation(language, key as any)

  const [startDate, setStartDate] = useState<Date | null>(null)

  const [time, setTime] = useState<Date | null>(null)

  
  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {
    const { name, value } = e.target
    setFormData((prev) => ({ ...prev, [name]: value }))
  }

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    console.log("Reservation submitted:", formData)
    alert("Thank you for your reservation request!")
  }

  return (
    <section id="reservation" className="bg-primary primary-text-color">
      <div className="max-w-[1300px] mx-auto px-4">
        <div className="grid md:grid-cols-2 gap-12">
          <div className="">
            <h2 className="md:text-left text-center aboreto-text text-secondary 2xl:text-[60px] xl:text-[50px] text-[28px] md:mb-[20px]">{t("reservationTitle")}</h2>
            <p className="md:text-left text-center md:text-[28px] text-[24px] font-medium md:w-8/12">{t("reservationSubtitle")}</p>
            {/* <p className="text-foreground/70 font-light leading-relaxed">{t("reservationDesc")}</p> */}

            <div className="space-y-3 my-[33px]">
              <div className="flex items-center md:justify-start justify-center gap-[14px]">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.4833 0.887409C11.4833 0.652429 11.5766 0.427073 11.7428 0.260917C11.909 0.0947605 12.1343 0.0014149 12.3693 0.0014149C14.7183 0.00399456 16.9704 0.938278 18.6314 2.59928C20.2924 4.26028 21.2267 6.51235 21.2292 8.86136C21.2292 9.09634 21.1359 9.32169 20.9697 9.48785C20.8036 9.65401 20.5782 9.74735 20.3432 9.74735C20.1083 9.74735 19.8829 9.65401 19.7168 9.48785C19.5506 9.32169 19.4573 9.09634 19.4573 8.86136C19.4551 6.98216 18.7077 5.18054 17.3789 3.85175C16.0501 2.52296 14.2485 1.77551 12.3693 1.7734C12.1343 1.7734 11.909 1.68006 11.7428 1.5139C11.5766 1.34775 11.4833 1.12239 11.4833 0.887409ZM12.3693 5.31738C13.3092 5.31738 14.2106 5.69076 14.8753 6.35539C15.5399 7.02001 15.9133 7.92144 15.9133 8.86136C15.9133 9.09634 16.0066 9.32169 16.1728 9.48785C16.3389 9.65401 16.5643 9.74735 16.7993 9.74735C17.0342 9.74735 17.2596 9.65401 17.4258 9.48785C17.5919 9.32169 17.6853 9.09634 17.6853 8.86136C17.6839 7.45191 17.1233 6.10059 16.1267 5.10396C15.1301 4.10732 13.7787 3.5468 12.3693 3.54539C12.1343 3.54539 11.909 3.63874 11.7428 3.80489C11.5766 3.97105 11.4833 4.19641 11.4833 4.43139C11.4833 4.66637 11.5766 4.89172 11.7428 5.05788C11.909 5.22403 12.1343 5.31738 12.3693 5.31738ZM20.4256 14.8321C20.9391 15.3469 21.2274 16.0444 21.2274 16.7715C21.2274 17.4986 20.9391 18.1961 20.4256 18.711L19.6194 19.6404C12.3631 26.5874 -5.29477 8.93401 1.54511 1.65468L2.564 0.768686C3.07944 0.269585 3.77066 -0.00651556 4.48812 0.000116783C5.20557 0.00674913 5.89157 0.295581 6.3977 0.804126C6.42516 0.831592 8.06691 2.96418 8.06691 2.96418C8.55405 3.47595 8.82524 4.15578 8.82408 4.86234C8.82293 5.56889 8.54952 6.24783 8.06071 6.75801L7.03473 8.04801C7.60251 9.42761 8.43731 10.6814 9.49115 11.7374C10.545 12.7933 11.7971 13.6307 13.1756 14.2012L14.4735 13.1691C14.9838 12.6806 15.6626 12.4075 16.3689 12.4066C17.0753 12.4056 17.7549 12.6767 18.2665 13.1637C18.2665 13.1637 20.3982 14.8046 20.4256 14.8321ZM19.2065 16.1203C19.2065 16.1203 17.0863 14.4892 17.0589 14.4617C16.8763 14.2807 16.6297 14.1792 16.3727 14.1792C16.1156 14.1792 15.869 14.2807 15.6865 14.4617C15.6625 14.4865 13.8755 15.9103 13.8755 15.9103C13.7551 16.0062 13.6117 16.069 13.4596 16.0926C13.3075 16.1162 13.1519 16.0998 13.0081 16.045C11.2223 15.3801 9.60033 14.3392 8.25194 12.9928C6.90354 11.6464 5.86025 10.0259 5.19274 8.24116C5.13356 8.09538 5.11426 7.93646 5.13684 7.78074C5.15942 7.62503 5.22306 7.47814 5.32121 7.35517C5.32121 7.35517 6.74501 5.56723 6.76893 5.5442C6.94991 5.36167 7.05145 5.11503 7.05145 4.85799C7.05145 4.60095 6.94991 4.35432 6.76893 4.17179C6.74146 4.14521 5.11035 2.02325 5.11035 2.02325C4.92509 1.85714 4.6833 1.76817 4.43455 1.7746C4.1858 1.78102 3.94893 1.88235 3.7725 2.05781L2.7536 2.9438C-2.24518 8.95439 13.0568 23.4076 18.3241 18.4301L19.1312 17.4998C19.3203 17.3246 19.434 17.0827 19.448 16.8253C19.4621 16.5679 19.3755 16.3151 19.2065 16.1203Z" fill="#F5E3BF"/>
                </svg>
                <a href={`callto:${t("phoneValue")}`} className="">{t("phoneValue")}</a>
              </div>
              <div className="flex items-center md:justify-start justify-center gap-[14px]">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.4833 0.887409C11.4833 0.652429 11.5766 0.427073 11.7428 0.260917C11.909 0.0947605 12.1343 0.0014149 12.3693 0.0014149C14.7183 0.00399456 16.9704 0.938278 18.6314 2.59928C20.2924 4.26028 21.2267 6.51235 21.2292 8.86136C21.2292 9.09634 21.1359 9.32169 20.9697 9.48785C20.8036 9.65401 20.5782 9.74735 20.3432 9.74735C20.1083 9.74735 19.8829 9.65401 19.7168 9.48785C19.5506 9.32169 19.4573 9.09634 19.4573 8.86136C19.4551 6.98216 18.7077 5.18054 17.3789 3.85175C16.0501 2.52296 14.2485 1.77551 12.3693 1.7734C12.1343 1.7734 11.909 1.68006 11.7428 1.5139C11.5766 1.34775 11.4833 1.12239 11.4833 0.887409ZM12.3693 5.31738C13.3092 5.31738 14.2106 5.69076 14.8753 6.35539C15.5399 7.02001 15.9133 7.92144 15.9133 8.86136C15.9133 9.09634 16.0066 9.32169 16.1728 9.48785C16.3389 9.65401 16.5643 9.74735 16.7993 9.74735C17.0342 9.74735 17.2596 9.65401 17.4258 9.48785C17.5919 9.32169 17.6853 9.09634 17.6853 8.86136C17.6839 7.45191 17.1233 6.10059 16.1267 5.10396C15.1301 4.10732 13.7787 3.5468 12.3693 3.54539C12.1343 3.54539 11.909 3.63874 11.7428 3.80489C11.5766 3.97105 11.4833 4.19641 11.4833 4.43139C11.4833 4.66637 11.5766 4.89172 11.7428 5.05788C11.909 5.22403 12.1343 5.31738 12.3693 5.31738ZM20.4256 14.8321C20.9391 15.3469 21.2274 16.0444 21.2274 16.7715C21.2274 17.4986 20.9391 18.1961 20.4256 18.711L19.6194 19.6404C12.3631 26.5874 -5.29477 8.93401 1.54511 1.65468L2.564 0.768686C3.07944 0.269585 3.77066 -0.00651556 4.48812 0.000116783C5.20557 0.00674913 5.89157 0.295581 6.3977 0.804126C6.42516 0.831592 8.06691 2.96418 8.06691 2.96418C8.55405 3.47595 8.82524 4.15578 8.82408 4.86234C8.82293 5.56889 8.54952 6.24783 8.06071 6.75801L7.03473 8.04801C7.60251 9.42761 8.43731 10.6814 9.49115 11.7374C10.545 12.7933 11.7971 13.6307 13.1756 14.2012L14.4735 13.1691C14.9838 12.6806 15.6626 12.4075 16.3689 12.4066C17.0753 12.4056 17.7549 12.6767 18.2665 13.1637C18.2665 13.1637 20.3982 14.8046 20.4256 14.8321ZM19.2065 16.1203C19.2065 16.1203 17.0863 14.4892 17.0589 14.4617C16.8763 14.2807 16.6297 14.1792 16.3727 14.1792C16.1156 14.1792 15.869 14.2807 15.6865 14.4617C15.6625 14.4865 13.8755 15.9103 13.8755 15.9103C13.7551 16.0062 13.6117 16.069 13.4596 16.0926C13.3075 16.1162 13.1519 16.0998 13.0081 16.045C11.2223 15.3801 9.60033 14.3392 8.25194 12.9928C6.90354 11.6464 5.86025 10.0259 5.19274 8.24116C5.13356 8.09538 5.11426 7.93646 5.13684 7.78074C5.15942 7.62503 5.22306 7.47814 5.32121 7.35517C5.32121 7.35517 6.74501 5.56723 6.76893 5.5442C6.94991 5.36167 7.05145 5.11503 7.05145 4.85799C7.05145 4.60095 6.94991 4.35432 6.76893 4.17179C6.74146 4.14521 5.11035 2.02325 5.11035 2.02325C4.92509 1.85714 4.6833 1.76817 4.43455 1.7746C4.1858 1.78102 3.94893 1.88235 3.7725 2.05781L2.7536 2.9438C-2.24518 8.95439 13.0568 23.4076 18.3241 18.4301L19.1312 17.4998C19.3203 17.3246 19.434 17.0827 19.448 16.8253C19.4621 16.5679 19.3755 16.3151 19.2065 16.1203Z" fill="#F5E3BF"/>
                </svg>
                <a href={`callto:${t("phoneValue")}`} className="">{t("phoneValue")}</a>
              </div>
            </div>
            <div>
              <h3 className="text-[28px] mb-[6px] md:text-start text-center">{t("followUs")}</h3>
              <div className="flex items-center gap-2 md:justify-start justify-center">
                <a href="#">
                  <svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M23.0441 0C10.3377 0 0 10.3377 0 23.0441C0 35.7497 10.3377 46.0883 23.0441 46.0883C35.7497 46.0883 46.0883 35.7497 46.0883 23.0441C46.0883 10.3377 35.7516 0 23.0441 0ZM28.775 23.8554H25.0259V37.2182H19.4705C19.4705 37.2182 19.4705 29.9167 19.4705 23.8554H16.8297V19.1326H19.4705V16.0778C19.4705 13.89 20.5101 10.4713 25.077 10.4713L29.1936 10.4871V15.0716C29.1936 15.0716 26.6921 15.0716 26.2057 15.0716C25.7193 15.0716 25.0278 15.3148 25.0278 16.3581V19.1335H29.2605L28.775 23.8554Z" fill="#F5E3BF"/>
                  </svg>
                </a>
                <a href="#">
                  <svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M23.0439 0C35.7688 9.11574e-05 46.0878 10.3191 46.0879 23.0439C46.0879 35.7689 35.7688 46.0878 23.0439 46.0879C10.319 46.0879 0 35.7689 0 23.0439C0.000100433 10.319 10.319 0 23.0439 0ZM23.0439 9.81152C19.4503 9.81152 18.999 9.82725 17.5879 9.8916C16.1795 9.95597 15.2177 10.1799 14.376 10.5068C13.4932 10.8391 12.6929 11.3599 12.0322 12.0332C11.359 12.6938 10.8381 13.4942 10.5059 14.377C10.1789 15.2187 9.95559 16.1804 9.8916 17.5889C9.82691 18.9998 9.81152 19.4507 9.81152 23.0439C9.81152 26.6376 9.82655 27.0886 9.8916 28.5C9.9556 29.9082 10.1798 30.8705 10.5068 31.7119C10.8391 32.5947 11.3593 33.395 12.0322 34.0557C12.6933 34.729 13.4937 35.2497 14.377 35.582C15.2182 35.9089 16.1801 36.1319 17.5879 36.1963C18.9993 36.2606 19.4501 36.2764 23.0439 36.2764C26.6376 36.2764 27.0889 36.2606 28.5 36.1963C29.9078 36.1319 30.8697 35.9089 31.7109 35.582C33.4883 34.8946 34.8936 33.4893 35.5811 31.7119C35.908 30.8702 36.1323 29.9084 36.1963 28.5C36.261 27.0889 36.2764 26.6376 36.2764 23.0439C36.2764 19.4507 36.2606 18.9998 36.1963 17.5889C36.1319 16.1804 35.9084 15.2187 35.5811 14.377C35.2492 13.4942 34.7285 12.6942 34.0557 12.0332C33.3946 11.3598 32.5939 10.8381 31.7109 10.5059C30.8693 10.1793 29.9074 9.95559 28.499 9.8916C27.0882 9.82691 26.6372 9.81152 23.0439 9.81152ZM23.0439 12.1963C26.5771 12.1963 26.996 12.2098 28.3916 12.2734C29.6816 12.3322 30.3824 12.5474 30.8486 12.7285C31.4235 12.9405 31.9433 13.2793 32.3701 13.7188C32.8095 14.1456 33.1474 14.6658 33.3594 15.2402C33.5408 15.7065 33.7567 16.4073 33.8154 17.6973C33.8791 19.0925 33.8926 19.5114 33.8926 23.0449C33.8926 26.5776 33.8791 26.9962 33.8154 28.3916C33.7564 29.6817 33.5405 30.3824 33.3594 30.8486C32.9142 32.0026 32.0026 32.9152 30.8486 33.3604C30.3824 33.5418 29.6807 33.7567 28.3906 33.8154C26.9961 33.8791 26.5774 33.8926 23.0439 33.8926C19.5106 33.8926 19.0924 33.8791 17.6973 33.8154C16.4075 33.7567 15.7065 33.5418 15.2402 33.3604C14.6654 33.1483 14.1456 32.8096 13.7188 32.3701C13.2792 31.9432 12.9409 31.4235 12.7285 30.8486C12.5474 30.3824 12.3322 29.6817 12.2734 28.3916C12.2098 26.9962 12.1963 26.5776 12.1963 23.0449C12.1963 19.5114 12.2098 19.0925 12.2734 17.6973C12.3322 16.4073 12.5474 15.7065 12.7285 15.2402C12.9409 14.6653 13.2792 14.1456 13.7188 13.7188C14.1453 13.2792 14.6653 12.9405 15.2402 12.7285C15.7061 12.5474 16.4072 12.3325 17.6973 12.2734C19.0923 12.2098 19.5109 12.1963 23.0439 12.1963ZM23.0439 16.249C19.2913 16.2492 16.2492 19.2913 16.249 23.0439C16.249 26.7967 19.2912 29.8387 23.0439 29.8389C26.7965 29.8389 29.8389 26.7968 29.8389 23.0439C29.8387 19.2912 26.7964 16.249 23.0439 16.249ZM23.0439 18.6338C25.48 18.6338 27.4551 20.6089 27.4551 23.0449C27.4548 25.4808 25.4799 27.4551 23.0439 27.4551C20.6081 27.455 18.634 25.4807 18.6338 23.0449C18.6338 20.6089 20.608 18.6339 23.0439 18.6338ZM30.1074 14.3926C29.2307 14.3927 28.5197 15.1038 28.5195 15.9805C28.5195 16.8573 29.2306 17.5682 30.1074 17.5684C30.9844 17.5684 31.695 16.8574 31.6953 15.9805C31.6951 15.1037 30.9843 14.3926 30.1074 14.3926Z" fill="#F5E3BF"/>
                  </svg>
                </a>
                <a href="#">
                  <svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M23.0441 0C10.3192 0 0 10.3192 0 23.0441C0 35.7691 10.3192 46.0883 23.0441 46.0883C35.7691 46.0883 46.0883 35.7691 46.0883 23.0441C46.0883 10.3192 35.7691 0 23.0441 0ZM34.6049 17.6317V20.752C33.1336 20.7525 31.7041 20.4642 30.3558 19.8954C29.4888 19.5294 28.6811 19.0578 27.9424 18.4879L27.9645 28.092C27.9552 30.2546 27.0996 32.2866 25.5511 33.8171C24.2909 35.0629 22.694 35.8552 20.9631 36.1116C20.5565 36.1718 20.1426 36.2027 19.724 36.2027C17.8712 36.2027 16.1122 35.6025 14.6733 34.4951C14.4025 34.2866 14.1435 34.0606 13.897 33.8171C12.2187 32.1584 11.3533 29.9103 11.499 27.5453C11.6102 25.7451 12.331 24.0282 13.5325 22.6825C15.1222 20.9018 17.3461 19.9135 19.724 19.9135C20.1426 19.9135 20.5565 19.9449 20.9631 20.0051V21.1588V24.368C20.5775 24.2408 20.1657 24.1709 19.7369 24.1709C17.5644 24.1709 15.8068 25.9433 15.8393 28.1174C15.8599 29.5084 16.6198 30.7243 17.7405 31.3946C18.2672 31.7096 18.8731 31.9048 19.5196 31.9403C20.0263 31.9681 20.5127 31.8975 20.9631 31.7488C22.5153 31.2361 23.635 29.7782 23.635 28.0587L23.6401 21.6273V9.88558H27.9371C27.9413 10.3114 27.9845 10.7268 28.0648 11.1293C28.3891 12.7587 29.3076 14.1723 30.5858 15.136C31.7004 15.9767 33.0882 16.475 34.5925 16.475C34.5935 16.475 34.6059 16.475 34.6048 16.474V17.6317H34.6049Z" fill="#F5E3BF"/>
                  </svg>
                </a>
                <a href="#">
                  <svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M23.0439 0C35.7704 0 46.0878 10.3175 46.0879 23.0439C46.0879 35.7704 35.7704 46.0879 23.0439 46.0879C10.3175 46.0878 0 35.7704 0 23.0439C0.000100136 10.3176 10.3176 4.38589e-05 23.0439 0ZM20.1426 24.5479L9.79688 36.5732H12.1348L21.1807 26.0586L28.4053 36.5732H36.2959L25.5664 20.959L35.4326 9.49121H33.0947L24.5293 19.4482L17.6875 9.49121H9.79688L20.1426 24.5479ZM33.0957 34.8926H29.5049L12.9766 11.251H16.5674L33.0957 34.8926Z" fill="#F5E3BF"/>
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <form onSubmit={handleSubmit} className="bg-background/9 rounded-lg p-8 space-y-4">
            <h2 className="md:text-left text-center aboreto-text text-secondary 2xl:text-[60px] xl:text-[50px] text-[28px] mb-[20px] md:pt-[20px]">{t("reservationTitle")}</h2>
            <div>
              {/* <label className="block text-sm font-light text-foreground/70 mb-2">{t("nameLabel")}</label> */}
              <input
                type="text"
                name="name"
                value={formData.name}
                onChange={handleChange}
                required
                className="w-full border border-white bg-white/10 py-[12px] px-[20px] rounded-[10px]"
                placeholder={t("nameLabel")}
              />
            </div>

            <div className="grid md:grid-cols-2 gap-4">
              <div>
                {/* <label className="block text-sm font-light text-foreground/70 mb-2">{t("phoneLabel")}</label> */}
                <input
                  type="tel"
                  name="phone"
                  value={formData.phone}
                  onChange={handleChange}
                  required
                  className="w-full border border-white bg-white/10 py-[12px] px-[20px] rounded-[10px]"
                  placeholder="Phone Number"
                />
              </div>
              <div className="relative">
                {/* <label className="block text-sm font-light text-foreground/70 mb-2">{t("guestLabel")}</label> */}
                <select
                  name="guests"
                  value={formData.guests}
                  onChange={handleChange}
                  className="w-full border border-white bg-white/10 py-[12px] px-[20px] rounded-[10px] appearance-none"
                >
                  <option>1 Person</option>
                  <option>2 Person</option>
                  <option>3 Person</option>
                  <option>4 Person</option>
                  <option>5+ Person</option>
                </select>
                  <div className="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2">
                    <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1L6 6L11 1" stroke="white" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                    </svg>
                  </div>
                </div>
              <div>
                {/* <label className="block text-sm font-light text-foreground/70 mb-2">{t("dateLabel")}</label> */}
                <DatePicker className="w-full border border-white bg-white/10 py-[12px] px-[20px] rounded-[10px]" selected={startDate} onChange={(date) => setStartDate(date)} />
              </div>
              <div>
                {/* <label className="block text-sm font-light text-foreground/70 mb-2">{t("dateLabel")}</label> */}
                <DatePicker
                  selected={time}
                  onChange={(selectedTime: Date | null) => setTime(selectedTime)}
                  showTimeSelect
                  showTimeSelectOnly
                  timeIntervals={15} // 15-minute steps
                  timeCaption="Time"
                  dateFormat="h:mm aa"
                  placeholderText="Select time"
                  className="w-full border border-white bg-white/10 py-[12px] px-[20px] rounded-[10px]"
                />
              </div>
            </div>
            <div className="md:text-left text-center">
              <button
                type="submit"
                className="btn bg-[#F5E3BF] text-primary hover:opacity-90 transition"
              >
                {t("bookNow")}
                {/* Submit */}
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>
  )
}
